// Language switcher functionality
document.addEventListener('DOMContentLoaded', function() {
    // Create language switcher HTML
    const languageSwitcher = document.createElement('div');
    languageSwitcher.className = 'language-switcher';
    
    // Get current path
    const currentPath = window.location.pathname;
    const isEnglish = currentPath.includes('/en/');
    
    // Create single language toggle button
    const languageBtn = document.createElement('a');
    languageBtn.href = isEnglish ? currentPath.replace('/en/', '/') : currentPath.replace('/', '/en/');
    languageBtn.className = 'language-btn';
    languageBtn.title = isEnglish ? 'Switch to Chinese' : 'Switch to English';
    languageBtn.innerHTML = `
        <svg width="48" height="48" viewBox="0 0 41 42" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M38.8479 26.2042H32.6338V24.5683C32.6338 23.6646 31.9018 22.9324 30.9983 22.9324C30.0952 22.9324 29.3628 23.6645 29.3628 24.5683V26.2042H23.1498C22.2462 26.2042 21.5143 26.609 21.5143 27.5128V35.3638C21.5143 36.2675 22.2462 37.3264 23.1498 37.3264H29.3639V40.2704C29.3639 41.1741 30.0958 41.9062 30.9994 41.9062C31.9029 41.9062 32.6348 41.1741 32.6348 40.2704V37.3264H38.8489C39.752 37.3264 40.4844 36.267 40.4844 35.3638V27.5122C40.4834 26.609 39.7515 26.2042 38.8479 26.2042ZM29.3633 34.0552H24.7846V29.4754H29.3633V34.0552ZM37.2124 34.0552H32.6338V29.4754H37.2125V34.0552H37.2124ZM20.8835 3.84087C21.2953 3.85043 30.6036 4.18174 32.0363 12.7442L31.5475 12.418C30.6877 11.844 29.5229 12.0766 28.9496 12.9376C28.3757 13.7985 28.6083 14.9621 29.4691 15.5361L32.975 17.8739C32.9775 17.8753 32.9799 17.8769 32.982 17.8789L33.0042 17.8935C33.0158 17.901 33.0279 17.9061 33.0395 17.9132C33.0974 17.9503 33.1574 17.9841 33.2191 18.0144C33.2478 18.0284 33.2765 18.0405 33.3057 18.0531C33.3535 18.0738 33.4024 18.0924 33.4517 18.1085C33.4855 18.1196 33.5192 18.1307 33.5539 18.1402C33.6027 18.1534 33.6521 18.1634 33.7014 18.1724C33.7336 18.1785 33.7658 18.186 33.7985 18.1901C33.8725 18.2001 33.9475 18.2052 34.0225 18.2062C34.0291 18.2062 34.0356 18.2077 34.0416 18.2077H34.0457C34.0522 18.2077 34.0583 18.2062 34.0648 18.2062C34.1398 18.2052 34.2148 18.2001 34.2888 18.1901C34.321 18.186 34.3528 18.1785 34.385 18.1724C34.435 18.1635 34.4847 18.1526 34.534 18.1397C34.5677 18.1307 34.6014 18.1196 34.6346 18.1085C34.6844 18.0919 34.7334 18.0732 34.7816 18.0526C34.8103 18.0401 34.839 18.028 34.8677 18.0144C34.9296 17.9838 34.9897 17.9499 35.0479 17.9127C35.0595 17.9056 35.0716 17.9006 35.0832 17.893L35.1053 17.8784C35.1078 17.877 35.1102 17.8753 35.1123 17.8734L38.713 15.4722C39.5737 14.8982 39.8068 13.7346 39.2324 12.8736C38.6586 12.0127 37.4958 11.7785 36.6345 12.354L35.8407 12.8837C34.6644 3.04685 25.6671 0.207635 20.9741 0.0943847C19.9618 0.0676659 19.0809 0.887885 19.0558 1.92256C19.0311 2.95723 19.8496 3.81621 20.8835 3.84087ZM8.81361 28.6487L9.45186 29.0741C9.75883 29.2796 10.12 29.3891 10.4893 29.3888C11.0949 29.3888 11.6889 29.0958 12.0498 28.5545C12.6236 27.6935 12.3911 26.53 11.5303 25.956L7.99512 23.5986C7.89067 23.5287 7.77934 23.4696 7.66288 23.4223C7.62913 23.4087 7.59444 23.4032 7.56069 23.3916C7.47964 23.364 7.39911 23.3358 7.31506 23.3192C7.26725 23.3096 7.21892 23.3101 7.17106 23.3045C7.09859 23.296 7.02612 23.2844 6.95309 23.2849C6.91587 23.2849 6.87964 23.2924 6.84289 23.295C6.75884 23.3 6.67527 23.304 6.59169 23.3207C6.56202 23.3267 6.5338 23.3393 6.50412 23.3464C6.41703 23.368 6.32994 23.3896 6.24584 23.4244C6.13154 23.4711 6.02226 23.5293 5.91969 23.5981C5.91936 23.5984 4.70858 24.4057 2.28734 26.0199C1.42658 26.5939 1.19352 27.7575 1.76787 28.6184C2.12881 29.1602 2.72277 29.4528 3.32834 29.4528C3.6852 29.4528 4.04666 29.351 4.36578 29.138L5.04688 28.6839C6.06617 38.7755 15.2044 41.6741 19.9467 41.7884C21.0068 41.7889 21.8404 40.9793 21.8651 39.9602C21.8897 38.9255 21.0718 38.0666 20.0373 38.0414C19.618 38.0313 9.96734 37.6874 8.81356 28.6487H8.81361ZM2.93577 18.3411C3.01325 18.3507 3.0898 18.3648 3.16981 18.3648H13.6692C14.7036 18.3648 15.5427 17.5259 15.5427 16.4907C15.5427 15.4556 14.7042 14.6167 13.6692 14.6167H4.57522V11.8057H13.6697C14.7041 11.8057 15.5433 10.9669 15.5433 9.93167C15.5433 8.89648 14.7046 8.05765 13.6697 8.05765H4.57522V5.2467H13.6697C14.7041 5.2467 15.5433 4.40787 15.5433 3.37263C15.5433 2.33749 14.7046 1.49867 13.6697 1.49867H3.16981C3.0898 1.49867 3.01325 1.51226 2.93577 1.52234C2.85823 1.51278 2.78173 1.49867 2.70167 1.49867C1.66723 1.49857 0.828125 2.33745 0.828125 3.37263V16.4902C0.828125 17.5249 1.66672 18.3642 2.70172 18.3642C2.78173 18.3642 2.85823 18.3507 2.93577 18.3411Z" fill="currentColor"/>
        </svg>
    `;
    
    // Add button to switcher
    languageSwitcher.appendChild(languageBtn);
    
    // Add switcher to page
    document.body.appendChild(languageSwitcher);
}); 